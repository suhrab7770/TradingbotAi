# ai_helper.py
def analyze_message(msg, indicators):
    msg = msg.lower()
    rsi = indicators["rsi"]
    ma = indicators["ma"]
    price = indicators["price"]

    if "–∫—É–ø–∏—Ç—å" in msg or "–≤—Ö–æ–¥" in msg:
        if rsi < 30 and price < ma:
            return "üß† –≠—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ —Ö–æ—Ä–æ—à–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (–ø–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω, —Ü–µ–Ω–∞ –Ω–∏–∂–µ MA10)."
        elif 30 <= rsi <= 50:
            return "ü§ñ –ú–æ–∂–µ—Ç –±—ã—Ç—å, –Ω–æ —Å–∏–≥–Ω–∞–ª –Ω–µ —Å–∞–º—ã–π —Å–∏–ª—å–Ω—ã–π. RSI –≤ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ–π –∑–æ–Ω–µ."
        else:
            return "‚ö†Ô∏è –°–µ–π—á–∞—Å –ª—É—á—à–µ –ø–æ–¥–æ–∂–¥–∞—Ç—å. RSI —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫."

    elif "–ø—Ä–æ–¥–∞—Ç—å" in msg or "–≤—ã—Ö–æ–¥" in msg:
        if rsi > 70 and price > ma:
            return "üí° –°–µ–π—á–∞—Å –ø–æ—Ö–æ–∂–µ –Ω–∞ —Ö–æ—Ä–æ—à–∏–π –º–æ–º–µ–Ω—Ç –¥–ª—è —Ñ–∏–∫—Å–∞—Ü–∏–∏ –ø—Ä–∏–±—ã–ª–∏!"
        else:
            return "üîÑ –ù–µ —Å–ø–µ—à–∏ –ø—Ä–æ–¥–∞–≤–∞—Ç—å. –°–∏–≥–Ω–∞–ª–æ–≤ –∫ –≤—ã—Ö–æ–¥—É –Ω–µ—Ç."

    elif "—á—Ç–æ –¥—É–º–∞–µ—à—å" in msg or "–∞–Ω–∞–ª–∏–∑" in msg:
        return f"üìä RSI: {round(rsi,1)}, MA10: {round(ma,2)}, –¶–µ–Ω–∞: {round(price,2)} ‚Äî –í—Å—ë —Å—Ç–∞–±–∏–ª—å–Ω–æ, –Ω–∞–±–ª—é–¥–∞–µ–º."

    else:
        return "ü§ñ –Ø –º–æ–≥—É –ø–æ–º–æ—á—å —Å –∞–Ω–∞–ª–∏–∑–æ–º! –ù–∞–ø–∏—à–∏: '–ö—É–ø–∏—Ç—å SOL?', '–ü—Ä–æ–¥–∞—Ç—å BONK?' –∏–ª–∏ '–ß—Ç–æ –¥—É–º–∞–µ—à—å –ø—Ä–æ PYTH?'"
